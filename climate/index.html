<meta charset="utf-8">
<div class='g-meta' style='display: none;'><strong>2050 年，香港會在水底嗎</strong></div><style>
.g-body {
  margin: 0 auto;
  padding: 0;
  width: 100%;
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
  color: #444;
}
.g-kicker {
  text-align: center;
  margin-bottom: 20px;
}
.g-kicker .g-inner {
  display: inline;
  padding: 0 2px 5px 2px;
  border-bottom: 1px solid #d3d3d3;
}
.g-header .g-headline {
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
  font-weight: 700;
  margin: 0 auto 25px auto;
  font-size: 32px;
  line-height: 1.8;
  max-width: 720px;
}
.g-subhed {
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
  font-weight: 700;
  margin: 60px auto 25px auto;
  font-size: 24px;
  max-width: 600px;
}
.g-text {
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
  max-width: 600px;
  margin: 16px auto;
  font-size: 16px;
  line-height: 1.8;
  color: #444;
}
.g-bold {
  font-weight: 700;
}
.g-graphic {
  margin: 25px auto;
}
.g-graphic-text {
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
}
.g-image {
  margin: 35px auto;
}
.g-image img {
  width: 100%;
  display: block;
  margin: 0 auto;
}
.g-image .g-credit {
  margin-top: 10px;
  font-size: 13px;
  text-align: center;
  color: #999;
  display: block;
}
.g-refer {
  border: 1px solid #ececec;
  border-radius: 5px;
  background: rgba(253, 232, 0, 0.05);
  padding: 10px 20px;
  max-width: 460px;
  margin: 35px auto;
}
.g-refer .g-text {
  font-size: 12px;
  margin: 0;
  line-height: 1.5;
}
.g-refer .g-text:first-child {
  margin-bottom: 5px;
  font-weight: 700;
}
.g-refer .g-bullet:before {
  content: "•";
  position: absolute;
  margin-left: -10px;
}
.g-break {
  margin: 50px auto;
  text-align: center;
}
.g-break em {
  margin-right: 40px;
  text-align: center;
}
.g-break em:last-child {
  margin-right: 0;
}
.cover-image-wrapper.mobile,
.author-wrapper {
  display: none !important;
}
.g-promo {
  max-width: 600px;
  margin: 25px auto;
  padding: 25px 0;
  border-top: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
}
.g-promo a {
  color: #444;
  text-decoration: none;
  transition: opacity 0.2s;
}
.g-promo a:hover {
  opacity: 0.6;
}
.g-promo .g-promo-asset-cont,
.g-promo .g-promo-text-cont {
  display: inline-block;
  width: 100%;
  vertical-align: top;
}
@media screen and (min-width: 600px) {
  .g-promo .g-promo-asset-cont {
    width: calc(68% - 10px);
  }
}
@media screen and (min-width: 600px) {
  .g-promo .g-promo-text-cont {
    width: calc(32% - 10px);
  }
}
.g-promo .g-promo-text-cont {
  margin-right: 10px;
}
.g-promo .g-promo-tag {
  font-weight: 700;
  margin-bottom: 3px;
}
.g-promo .g-promo-hed {
  font-weight: 700;
  margin-bottom: 10px;
}
@media screen and (min-width: 460px) {
  .g-promo .g-promo-hed {
    max-width: none;
  }
}
.g-promo .g-promo-text {
  margin-bottom: 10px;
  font-size: 15px;
  padding: 0 16px;
}
@media screen and (min-width: 460px) {
  .g-promo .g-promo-text {
    padding: 0;
  }
}
.g-promo .g-youtube-cont {
  width: 100%;
  padding-bottom: 56%;
  position: relative;
}
.g-promo .g-youtube-cont iframe {
  position: absolute;
  top: 0;
  left: 0;
}
.g-promo .g-img-cont img {
  width: 100%;
}
.g-promo .g-mobile-hed {
  display: inline;
}
@media screen and (min-width: 460px) {
  .g-promo .g-mobile-hed {
    display: none;
  }
}
.g-promo .g-desktop-hed {
  display: none;
}
@media screen and (min-width: 460px) {
  .g-promo .g-desktop-hed {
    display: block;
  }
}
.g-note {
  font-size: 13px;
  text-align: center;
  color: #999;
}
.tooltip {
  top: -1000px;
  position: fixed;
  padding: 5px 10px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid lightgray;
  pointer-events: none;
  font-family: PingFang HK, Noto Sans TC, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
}
.tooltip-hidden {
  opacity: 0;
  transition: all 0.3s;
  transition-delay: 0.1s;
}
@media (max-width: 590px) {
  div.tooltip {
    bottom: -1px;
    width: calc(100%);
    left: -1px !important;
    right: -1px !important;
    top: auto !important;
    width: auto !important;
  }
}
.g-chart {
  max-width: 1200px;
  margin: 25px auto;
}
.g-chart .y.axis line {
  stroke: #ddd;
}
.g-chart .y.axis path.domain {
  display: none;
}
.g-chart .y.axis text {
  font-size: 15px;
}
.g-chart path {
  stroke: #fff;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.g-chart path {
  stroke: magenta;
  opacity: 1 !important;
  stroke-width: 2 !important;
}
.g-chart circle.tooltipped {
  stroke: #000;
  stroke-width: 2;
}
</style>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><div class="g-body"><div class="g-chart"></div><div class="g-text"><strong>2050 年，香港會在水底嗎</strong></div><div class="g-text"><a href='https://www.nytimes.com/interactive/2019/10/29/climate/coastal-cities-underwater.html'>類似咁樣</a> <a href='https://www.nytimes.com/interactive/2015/12/11/world/asia/Chinas-Coastal-Cities-Underwater.html'>或咁樣</a></div><div class="g-text">再 highlight 某啲區</div><div class="g-text">啟德不再，深水埗、長沙灣全淹沒</div><div class="g-text">再見赤鱲角</div><div class="g-text">元朗米埔消失</div><div class="g-text"><strong>全球暖化　香港自1885年今　熱咗 3 度</strong></div><div class="g-text"><a href='https://www.hko.gov.hk/en/wxinfo/pastwx/2020/ywx2020.htm'>https://www.hko.gov.hk/en/wxinfo/pastwx/2020/ywx2020.htm</a></div><div class="g-text"><a href='https://www.nytimes.com/interactive/2018/08/30/climate/how-much-hotter-is-your-hometown.html'>reference</a></div></div><script src="https://interactive.thestandnews.com/scripts/d3_.js"></script><script type="text/javascript">var temp = [{"year":"1884","mean_pressure":"---","abs_daily_max":"33.9","mean_daily_max":"24.6","mean":"---","mean_daily_min":"19.7","absolute_daily_min":"6","total_rainfall":"1918"},{"year":"1885","mean_pressure":"1013.3","abs_daily_max":"31.8","mean_daily_max":"23.7","mean":"21.5","mean_daily_min":"19.8","absolute_daily_min":"7.2","total_rainfall":"2769.1"},{"year":"1886","mean_pressure":"1013.4","abs_daily_max":"32.1","mean_daily_max":"23.5","mean":"21.4","mean_daily_min":"19.7","absolute_daily_min":"5.4","total_rainfall":"1756.9"},{"year":"1887","mean_pressure":"1012.7","abs_daily_max":"32.6","mean_daily_max":"24","mean":"21.8","mean_daily_min":"19.9","absolute_daily_min":"6","total_rainfall":"1685"},{"year":"1888","mean_pressure":"1012.2","abs_daily_max":"33.8","mean_daily_max":"24.6","mean":"22.5","mean_daily_min":"20.6","absolute_daily_min":"4.8","total_rainfall":"2656.2"},{"year":"1889","mean_pressure":"1012.6","abs_daily_max":"33.6","mean_daily_max":"24.8","mean":"22.3","mean_daily_min":"20.3","absolute_daily_min":"4.6","total_rainfall":"3041.8"},{"year":"1890","mean_pressure":"1012.2","abs_daily_max":"34.3","mean_daily_max":"25.4","mean":"22.2","mean_daily_min":"19.9","absolute_daily_min":"6.7","total_rainfall":"1802.3"},{"year":"1891","mean_pressure":"1012.4","abs_daily_max":"33.8","mean_daily_max":"24.8","mean":"22.1","mean_daily_min":"20","absolute_daily_min":"7.1","total_rainfall":"2974.5"},{"year":"1892","mean_pressure":"1012.5","abs_daily_max":"34.4","mean_daily_max":"24.5","mean":"21.7","mean_daily_min":"19.5","absolute_daily_min":"6.8","total_rainfall":"2309.7"},{"year":"1893","mean_pressure":"1013.1","abs_daily_max":"33.5","mean_daily_max":"24","mean":"21.4","mean_daily_min":"19.4","absolute_daily_min":"0","total_rainfall":"2539.1"},{"year":"1894","mean_pressure":"1012.6","abs_daily_max":"33.8","mean_daily_max":"24.6","mean":"22.1","mean_daily_min":"20.1","absolute_daily_min":"5.2","total_rainfall":"2647.6"},{"year":"1895","mean_pressure":"1012.7","abs_daily_max":"34.4","mean_daily_max":"24.7","mean":"22","mean_daily_min":"20","absolute_daily_min":"6.4","total_rainfall":"1164.2"},{"year":"1896","mean_pressure":"1012.7","abs_daily_max":"34.4","mean_daily_max":"24.7","mean":"22.2","mean_daily_min":"20.2","absolute_daily_min":"4.8","total_rainfall":"1848.6"},{"year":"1897","mean_pressure":"1012.6","abs_daily_max":"33.2","mean_daily_max":"24.6","mean":"22.1","mean_daily_min":"20","absolute_daily_min":"5","total_rainfall":"2540.6"},{"year":"1898","mean_pressure":"1011.5","abs_daily_max":"33.1","mean_daily_max":"25.1","mean":"22.4","mean_daily_min":"20.1","absolute_daily_min":"7.8","total_rainfall":"1447.7"},{"year":"1899","mean_pressure":"1012.7","abs_daily_max":"33.8","mean_daily_max":"24.9","mean":"22.2","mean_daily_min":"20.1","absolute_daily_min":"6.4","total_rainfall":"1847.2"},{"year":"1900","mean_pressure":"1012.9#","abs_daily_max":"36.1#","mean_daily_max":"24.5#","mean":"22.0#","mean_daily_min":"20.0#","absolute_daily_min":"3.1#","total_rainfall":"1873.5#"},{"year":"1901","mean_pressure":"1012.9","abs_daily_max":"33.7","mean_daily_max":"25","mean":"22.3","mean_daily_min":"20.3","absolute_daily_min":"3.6","total_rainfall":"1418.8"},{"year":"1902","mean_pressure":"1013","abs_daily_max":"33.4","mean_daily_max":"25.7","mean":"23","mean_daily_min":"20.9","absolute_daily_min":"4.7","total_rainfall":"2477.2"},{"year":"1903","mean_pressure":"1013.3","abs_daily_max":"33.6","mean_daily_max":"24.6","mean":"22","mean_daily_min":"19.9","absolute_daily_min":"5.5","total_rainfall":"2378.5"},{"year":"1904","mean_pressure":"1012.7","abs_daily_max":"32.8","mean_daily_max":"24.7","mean":"22","mean_daily_min":"19.9","absolute_daily_min":"7.1","total_rainfall":"2043.3"},{"year":"1905","mean_pressure":"1012.7","abs_daily_max":"32.9","mean_daily_max":"24.5","mean":"22","mean_daily_min":"20","absolute_daily_min":"6","total_rainfall":"1801.9"},{"year":"1906","mean_pressure":"1012.1","abs_daily_max":"34.3","mean_daily_max":"24.7","mean":"22.1","mean_daily_min":"20","absolute_daily_min":"8.2","total_rainfall":"1977.3"},{"year":"1907","mean_pressure":"1012.3","abs_daily_max":"33.1","mean_daily_max":"24.8","mean":"22.3","mean_daily_min":"20.2","absolute_daily_min":"7.2","total_rainfall":"2377.7"},{"year":"1908","mean_pressure":"1012.5","abs_daily_max":"33.7","mean_daily_max":"24.6","mean":"22.1","mean_daily_min":"20.1","absolute_daily_min":"6.5","total_rainfall":"2335.9"},{"year":"1909","mean_pressure":"1012.2","abs_daily_max":"32.7","mean_daily_max":"25","mean":"22.6","mean_daily_min":"20.5","absolute_daily_min":"9.3","total_rainfall":"1926.2"},{"year":"1910","mean_pressure":"1012.3","abs_daily_max":"32.9","mean_daily_max":"24.8","mean":"22.2","mean_daily_min":"20.1","absolute_daily_min":"6.8","total_rainfall":"1782.3"},{"year":"1911","mean_pressure":"1012.1","abs_daily_max":"33.9","mean_daily_max":"24.7","mean":"22.3","mean_daily_min":"20.4","absolute_daily_min":"8.4","total_rainfall":"2302.1"},{"year":"1912","mean_pressure":"1012.8","abs_daily_max":"33.6","mean_daily_max":"24.8","mean":"22.2","mean_daily_min":"20.1","absolute_daily_min":"7.4","total_rainfall":"1625.2"},{"year":"1913","mean_pressure":"1012.8","abs_daily_max":"33.3","mean_daily_max":"24.7","mean":"22.2","mean_daily_min":"20.1","absolute_daily_min":"6.7","total_rainfall":"2129.1"},{"year":"1914","mean_pressure":"1012.6","abs_daily_max":"34.4","mean_daily_max":"25.5","mean":"23","mean_daily_min":"21","absolute_daily_min":"8.6","total_rainfall":"2545.8"},{"year":"1915","mean_pressure":"1012.3","abs_daily_max":"34.1","mean_daily_max":"25.5","mean":"23","mean_daily_min":"20.9","absolute_daily_min":"5.4","total_rainfall":"1930.5"},{"year":"1916","mean_pressure":"1012.2","abs_daily_max":"33.6","mean_daily_max":"24.7","mean":"22.1","mean_daily_min":"19.9","absolute_daily_min":"4.1","total_rainfall":"2027.1"},{"year":"1917","mean_pressure":"1012.7","abs_daily_max":"32.7","mean_daily_max":"24.2","mean":"21.7","mean_daily_min":"19.7","absolute_daily_min":"3.8","total_rainfall":"2068.5"},{"year":"1918","mean_pressure":"1012.7","abs_daily_max":"32.9","mean_daily_max":"24.3","mean":"21.8","mean_daily_min":"20","absolute_daily_min":"5.6","total_rainfall":"2580.3"},{"year":"1919","mean_pressure":"1012.5","abs_daily_max":"33.4","mean_daily_max":"24.7","mean":"22.3","mean_daily_min":"20.4","absolute_daily_min":"4.1","total_rainfall":"1932.5"},{"year":"1920","mean_pressure":"1011.6","abs_daily_max":"33.9","mean_daily_max":"24.6","mean":"22.2","mean_daily_min":"20.3","absolute_daily_min":"7.3","total_rainfall":"2739.6"},{"year":"1921","mean_pressure":"1012.7","abs_daily_max":"33.4","mean_daily_max":"25","mean":"22.3","mean_daily_min":"20.3","absolute_daily_min":"6.7","total_rainfall":"2473.2"},{"year":"1922","mean_pressure":"1011.8","abs_daily_max":"33.9","mean_daily_max":"25","mean":"22.4","mean_daily_min":"20.4","absolute_daily_min":"6.5","total_rainfall":"1763.6"},{"year":"1923","mean_pressure":"1012.1","abs_daily_max":"33.8","mean_daily_max":"25","mean":"22.5","mean_daily_min":"20.6","absolute_daily_min":"7.6","total_rainfall":"2711.7"},{"year":"1924","mean_pressure":"1012.1","abs_daily_max":"34","mean_daily_max":"24.9","mean":"22.4","mean_daily_min":"20.4","absolute_daily_min":"8.6","total_rainfall":"2505.9"},{"year":"1925","mean_pressure":"1012.6","abs_daily_max":"33.8","mean_daily_max":"24.6","mean":"21.9","mean_daily_min":"19.9","absolute_daily_min":"4.3","total_rainfall":"2228.2"},{"year":"1926","mean_pressure":"1013.1","abs_daily_max":"33.6","mean_daily_max":"24.5","mean":"22","mean_daily_min":"20.1","absolute_daily_min":"6.2","total_rainfall":"2560.8"},{"year":"1927","mean_pressure":"1012.1","abs_daily_max":"33.9","mean_daily_max":"24.4","mean":"21.9","mean_daily_min":"20","absolute_daily_min":"7.7","total_rainfall":"2739.7"},{"year":"1928","mean_pressure":"1012.1","abs_daily_max":"33.7","mean_daily_max":"25","mean":"22.5","mean_daily_min":"20.5","absolute_daily_min":"7.2","total_rainfall":"1808.6"},{"year":"1929","mean_pressure":"1012.6","abs_daily_max":"33.4","mean_daily_max":"25.1","mean":"22.6","mean_daily_min":"20.6","absolute_daily_min":"6.9","total_rainfall":"1776.5"},{"year":"1930","mean_pressure":"1012.8","abs_daily_max":"33.8","mean_daily_max":"25","mean":"22.4","mean_daily_min":"20.5","absolute_daily_min":"5.1","total_rainfall":"2442.3"},{"year":"1931","mean_pressure":"1012.1","abs_daily_max":"34.4","mean_daily_max":"25","mean":"22.5","mean_daily_min":"20.5","absolute_daily_min":"4.6","total_rainfall":"2043.5"},{"year":"1932","mean_pressure":"1013","abs_daily_max":"32.7","mean_daily_max":"24.9","mean":"22.3","mean_daily_min":"20.4","absolute_daily_min":"6.3","total_rainfall":"2325.9"},{"year":"1933","mean_pressure":"1012.7","abs_daily_max":"33.9","mean_daily_max":"25.6","mean":"22.5","mean_daily_min":"20.5","absolute_daily_min":"5.2","total_rainfall":"1585.2"},{"year":"1934","mean_pressure":"1013","abs_daily_max":"33.9","mean_daily_max":"24.7","mean":"21.9","mean_daily_min":"19.9","absolute_daily_min":"6","total_rainfall":"2482.9"},{"year":"1935","mean_pressure":"1011.9","abs_daily_max":"33.7","mean_daily_max":"25.1","mean":"22.4","mean_daily_min":"20.5","absolute_daily_min":"6.1","total_rainfall":"1815.1"},{"year":"1936","mean_pressure":"1012.7","abs_daily_max":"33.6","mean_daily_max":"25.1","mean":"22.1","mean_daily_min":"20","absolute_daily_min":"6.2","total_rainfall":"1773.7"},{"year":"1937","mean_pressure":"1011.8","abs_daily_max":"33.9","mean_daily_max":"25.6","mean":"23","mean_daily_min":"21","absolute_daily_min":"7.7","total_rainfall":"2096.6"},{"year":"1938","mean_pressure":"1012.4","abs_daily_max":"34.4","mean_daily_max":"25.5","mean":"22.7","mean_daily_min":"20.7","absolute_daily_min":"8.1","total_rainfall":"1405.8"},{"year":"1939","mean_pressure":"1012.2","abs_daily_max":"34.4","mean_daily_max":"25.3","mean":"22.5","mean_daily_min":"20.4","absolute_daily_min":"9.9","total_rainfall":"2202.7"},{"year":"1947","mean_pressure":"1013.3","abs_daily_max":"34.9","mean_daily_max":"25.1","mean":"22","mean_daily_min":"19.7","absolute_daily_min":"5.4","total_rainfall":"2591.5"},{"year":"1948","mean_pressure":"1012.9","abs_daily_max":"33.4","mean_daily_max":"25.8","mean":"22.8","mean_daily_min":"20.5","absolute_daily_min":"3.8","total_rainfall":"2482.8"},{"year":"1949","mean_pressure":"1012.8","abs_daily_max":"33.5","mean_daily_max":"25.6","mean":"22.7","mean_daily_min":"20.6","absolute_daily_min":"5.9","total_rainfall":"2101.2"},{"year":"1950","mean_pressure":"1011.9","abs_daily_max":"33.8","mean_daily_max":"25.3","mean":"22.5","mean_daily_min":"20.2","absolute_daily_min":"5.8","total_rainfall":"2075.5"},{"year":"1951","mean_pressure":"1012.7","abs_daily_max":"33.6","mean_daily_max":"24.9","mean":"22.1","mean_daily_min":"19.9","absolute_daily_min":"4.9","total_rainfall":"2363.9"},{"year":"1952","mean_pressure":"1012.5","abs_daily_max":"33.3","mean_daily_max":"25.7","mean":"22.8","mean_daily_min":"20.4","absolute_daily_min":"4.3","total_rainfall":"2544.3"},{"year":"1953","mean_pressure":"1012.9","abs_daily_max":"34","mean_daily_max":"25.3","mean":"22.5","mean_daily_min":"20.2","absolute_daily_min":"8.5","total_rainfall":"2360.2"},{"year":"1954","mean_pressure":"1012.4","abs_daily_max":"34.9","mean_daily_max":"25.6","mean":"22.6","mean_daily_min":"20.1","absolute_daily_min":"6.2","total_rainfall":"1367"},{"year":"1955","mean_pressure":"1013","abs_daily_max":"33.5","mean_daily_max":"25.7","mean":"22.6","mean_daily_min":"20","absolute_daily_min":"3.1","total_rainfall":"2350.2"},{"year":"1956","mean_pressure":"1012.7","abs_daily_max":"34.3","mean_daily_max":"25.6","mean":"22.4","mean_daily_min":"19.9","absolute_daily_min":"3.9","total_rainfall":"1649.3"},{"year":"1957","mean_pressure":"1012.9","abs_daily_max":"34.2","mean_daily_max":"25.1","mean":"22.2","mean_daily_min":"20","absolute_daily_min":"2.4","total_rainfall":"2950.3"},{"year":"1958","mean_pressure":"1013.4","abs_daily_max":"34.9","mean_daily_max":"25.9","mean":"22.8","mean_daily_min":"20.5","absolute_daily_min":"7.3","total_rainfall":"2033.6"},{"year":"1959","mean_pressure":"1013","abs_daily_max":"33.4","mean_daily_max":"25.9","mean":"23","mean_daily_min":"20.8","absolute_daily_min":"5.8","total_rainfall":"2797.4"},{"year":"1960","mean_pressure":"1012.8","abs_daily_max":"35.4","mean_daily_max":"26","mean":"23.1","mean_daily_min":"20.9","absolute_daily_min":"7.5","total_rainfall":"2237"},{"year":"1961","mean_pressure":"1012.6","abs_daily_max":"34.2","mean_daily_max":"25.6","mean":"22.9","mean_daily_min":"20.8","absolute_daily_min":"7.3","total_rainfall":"18.6"},{"year":"1962","mean_pressure":"1013.2","abs_daily_max":"35.5","mean_daily_max":"25.8","mean":"22.7","mean_daily_min":"20.4","absolute_daily_min":"6","total_rainfall":"17.9"},{"year":"1963","mean_pressure":"1013.4","abs_daily_max":"35.6","mean_daily_max":"26.5","mean":"23.3","mean_daily_min":"20.9","absolute_daily_min":"7.1","total_rainfall":"17.8"},{"year":"1964","mean_pressure":"1012.7","abs_daily_max":"33.9","mean_daily_max":"25.7","mean":"22.9","mean_daily_min":"20.5","absolute_daily_min":"7","total_rainfall":"18.4"},{"year":"1965","mean_pressure":"1012.8","abs_daily_max":"33.4","mean_daily_max":"25.9","mean":"23.1","mean_daily_min":"20.9","absolute_daily_min":"7.3","total_rainfall":"18.6"},{"year":"1966","mean_pressure":"1012.2","abs_daily_max":"34.7","mean_daily_max":"26.8","mean":"23.8","mean_daily_min":"21.4","absolute_daily_min":"7.5","total_rainfall":"19"},{"year":"1967","mean_pressure":"1012.8","abs_daily_max":"34.4","mean_daily_max":"25.9","mean":"22.9","mean_daily_min":"20.4","absolute_daily_min":"4.6","total_rainfall":"17.8"},{"year":"1968","mean_pressure":"1012.7","abs_daily_max":"35.7","mean_daily_max":"25.8","mean":"22.9","mean_daily_min":"20.7","absolute_daily_min":"5.7","total_rainfall":"18.4"},{"year":"1969","mean_pressure":"1012.8","abs_daily_max":"34.7","mean_daily_max":"25.7","mean":"22.7","mean_daily_min":"20.5","absolute_daily_min":"4","total_rainfall":"18.1"},{"year":"1970","mean_pressure":"1012.5","abs_daily_max":"33.6","mean_daily_max":"25.5","mean":"22.8","mean_daily_min":"20.5","absolute_daily_min":"7.6","total_rainfall":"18.4"},{"year":"1971","mean_pressure":"1013.1","abs_daily_max":"33.7","mean_daily_max":"25.9","mean":"22.7","mean_daily_min":"20.5","absolute_daily_min":"5.5","total_rainfall":"17.5"},{"year":"1972","mean_pressure":"1012.4","abs_daily_max":"34.7","mean_daily_max":"25.9","mean":"22.8","mean_daily_min":"20.7","absolute_daily_min":"3.8","total_rainfall":"19"},{"year":"1973","mean_pressure":"1012.6","abs_daily_max":"33.1","mean_daily_max":"26.3","mean":"23.3","mean_daily_min":"21.2","absolute_daily_min":"7","total_rainfall":"19.1"},{"year":"1974","mean_pressure":"1012.1","abs_daily_max":"34.3","mean_daily_max":"25.9","mean":"22.8","mean_daily_min":"20.5","absolute_daily_min":"4.2","total_rainfall":"18.3"},{"year":"1975","mean_pressure":"1012.6","abs_daily_max":"33.9","mean_daily_max":"25.6","mean":"22.8","mean_daily_min":"20.7","absolute_daily_min":"4.3","total_rainfall":"18.8"},{"year":"1976","mean_pressure":"1013.1","abs_daily_max":"35.2","mean_daily_max":"25.4","mean":"22.5","mean_daily_min":"20.4","absolute_daily_min":"5.7","total_rainfall":"18.1"},{"year":"1977","mean_pressure":"1013.5","abs_daily_max":"34.9","mean_daily_max":"26.4","mean":"23.3","mean_daily_min":"21.1","absolute_daily_min":"6.2","total_rainfall":"18.7"},{"year":"1978","mean_pressure":"1012.7","abs_daily_max":"34.2","mean_daily_max":"25.6","mean":"22.8","mean_daily_min":"20.7","absolute_daily_min":"6.9","total_rainfall":"18.8"},{"year":"1979","mean_pressure":"1013","abs_daily_max":"33.8","mean_daily_max":"25.9","mean":"23.1","mean_daily_min":"21","absolute_daily_min":"6.1","total_rainfall":"18.8"},{"year":"1980","mean_pressure":"1013.4","abs_daily_max":"35","mean_daily_max":"25.9","mean":"23","mean_daily_min":"20.9","absolute_daily_min":"5.5","total_rainfall":"18.7"},{"year":"1981","mean_pressure":"1013.1","abs_daily_max":"33.3","mean_daily_max":"25.5","mean":"23.1","mean_daily_min":"21.2","absolute_daily_min":"9.5","total_rainfall":"18.7"},{"year":"1982","mean_pressure":"1013","abs_daily_max":"34.8","mean_daily_max":"25.2","mean":"22.9","mean_daily_min":"21","absolute_daily_min":"8.9","total_rainfall":"18.7"},{"year":"1983","mean_pressure":"1013.7","abs_daily_max":"33.9","mean_daily_max":"25.4","mean":"23","mean_daily_min":"21.1","absolute_daily_min":"6.1","total_rainfall":"18.6"},{"year":"1984","mean_pressure":"1012.5","abs_daily_max":"34.4","mean_daily_max":"24.9","mean":"22.5","mean_daily_min":"20.7","absolute_daily_min":"7","total_rainfall":"18.1"},{"year":"1985","mean_pressure":"1012.3","abs_daily_max":"33","mean_daily_max":"25","mean":"22.6","mean_daily_min":"20.8","absolute_daily_min":"8.8","total_rainfall":"18.8"},{"year":"1986","mean_pressure":"1013.1","abs_daily_max":"34.8","mean_daily_max":"25.3","mean":"22.8","mean_daily_min":"20.8","absolute_daily_min":"4.8","total_rainfall":"18.4"},{"year":"1987","mean_pressure":"1013.9","abs_daily_max":"34.2","mean_daily_max":"25.7","mean":"23.4","mean_daily_min":"21.6","absolute_daily_min":"7.6","total_rainfall":"19.4"},{"year":"1988","mean_pressure":"1013.1","abs_daily_max":"33.8","mean_daily_max":"25.1","mean":"22.8","mean_daily_min":"20.9","absolute_daily_min":"9.5","total_rainfall":"18.6"},{"year":"1989","mean_pressure":"1013.1","abs_daily_max":"34.3","mean_daily_max":"25.3","mean":"23","mean_daily_min":"21.1","absolute_daily_min":"7.6","total_rainfall":"18.7"},{"year":"1990","mean_pressure":"1012.9","abs_daily_max":"36.1","mean_daily_max":"25.4","mean":"23.1","mean_daily_min":"21.2","absolute_daily_min":"7","total_rainfall":"19.1"},{"year":"1991","mean_pressure":"1013.3","abs_daily_max":"34.5","mean_daily_max":"25.9","mean":"23.5","mean_daily_min":"21.6","absolute_daily_min":"4.6","total_rainfall":"19.2"},{"year":"1992","mean_pressure":"1013.3","abs_daily_max":"35","mean_daily_max":"25.2","mean":"22.8","mean_daily_min":"20.9","absolute_daily_min":"8.4","total_rainfall":"18.6"},{"year":"1993","mean_pressure":"1013.6","abs_daily_max":"33.5","mean_daily_max":"25.5","mean":"23.1","mean_daily_min":"21.2","absolute_daily_min":"5.4","total_rainfall":"18.9"},{"year":"1994","mean_pressure":"1012.7","abs_daily_max":"34.1","mean_daily_max":"25.9","mean":"23.6","mean_daily_min":"21.7","absolute_daily_min":"7.9","total_rainfall":"19.6"},{"year":"1995","mean_pressure":"1013.7","abs_daily_max":"34.2","mean_daily_max":"25.2","mean":"22.8","mean_daily_min":"20.9","absolute_daily_min":"9.2","total_rainfall":"18.4"},{"year":"1996","mean_pressure":"1013","abs_daily_max":"34.3","mean_daily_max":"25.6","mean":"23.3","mean_daily_min":"21.3","absolute_daily_min":"5.8","total_rainfall":"18.7"},{"year":"1997","mean_pressure":"1013.3","abs_daily_max":"33.2","mean_daily_max":"25.5","mean":"23.3","mean_daily_min":"21.5","absolute_daily_min":"10.2","total_rainfall":"19.4"},{"year":"1998","mean_pressure":"1012.8","abs_daily_max":"34.4","mean_daily_max":"26.3","mean":"24","mean_daily_min":"22.1","absolute_daily_min":"8.9","total_rainfall":"20"},{"year":"1999","mean_pressure":"1011.9","abs_daily_max":"35.1","mean_daily_max":"26.2","mean":"23.8","mean_daily_min":"21.8","absolute_daily_min":"5.8","total_rainfall":"18.9"},{"year":"2000","mean_pressure":"1011.9","abs_daily_max":"34.2","mean_daily_max":"25.5","mean":"23.3","mean_daily_min":"21.5","absolute_daily_min":"7.2","total_rainfall":"19.1"},{"year":"2001","mean_pressure":"1012.2","abs_daily_max":"34","mean_daily_max":"25.8","mean":"23.6","mean_daily_min":"21.8","absolute_daily_min":"8.9","total_rainfall":"19.3"},{"year":"2002","mean_pressure":"1012.9","abs_daily_max":"33.6","mean_daily_max":"26","mean":"23.9","mean_daily_min":"22.1","absolute_daily_min":"6.8","total_rainfall":"19.9"},{"year":"2003","mean_pressure":"1013.2","abs_daily_max":"33.7","mean_daily_max":"25.8","mean":"23.6","mean_daily_min":"21.9","absolute_daily_min":"8.8","total_rainfall":"19.3"},{"year":"2004","mean_pressure":"1013.1","abs_daily_max":"34.6","mean_daily_max":"25.6","mean":"23.4","mean_daily_min":"21.7","absolute_daily_min":"7.7","total_rainfall":"19"},{"year":"2005","mean_pressure":"1013","abs_daily_max":"35.4","mean_daily_max":"25.4","mean":"23.3","mean_daily_min":"21.4","absolute_daily_min":"6.4","total_rainfall":"19.3"},{"year":"2006","mean_pressure":"1012.7","abs_daily_max":"34","mean_daily_max":"25.8","mean":"23.5","mean_daily_min":"21.7","absolute_daily_min":"8","total_rainfall":"19.8"},{"year":"2007","mean_pressure":"1012.8","abs_daily_max":"35.3","mean_daily_max":"26.4","mean":"23.7","mean_daily_min":"21.7","absolute_daily_min":"10.6","total_rainfall":"19.1"},{"year":"2008","mean_pressure":"1012.8","abs_daily_max":"34.6","mean_daily_max":"25.8","mean":"23.1","mean_daily_min":"21.1","absolute_daily_min":"7.9","total_rainfall":"18.5"},{"year":"2009","mean_pressure":"1012.3","abs_daily_max":"34.9","mean_daily_max":"26.3","mean":"23.5","mean_daily_min":"21.6","absolute_daily_min":"9.4","total_rainfall":"19.2"},{"year":"2010","mean_pressure":"1013","abs_daily_max":"34.1","mean_daily_max":"25.8","mean":"23.2","mean_daily_min":"21.2","absolute_daily_min":"5.8","total_rainfall":"19.4"},{"year":"2011","mean_pressure":"1012.8","abs_daily_max":"35","mean_daily_max":"25.8","mean":"23","mean_daily_min":"21.1","absolute_daily_min":"7.2","total_rainfall":"18.4"},{"year":"2012","mean_pressure":"1011.6","abs_daily_max":"34.5","mean_daily_max":"25.8","mean":"23.4","mean_daily_min":"21.6","absolute_daily_min":"7.1","total_rainfall":"19.8"},{"year":"2013","mean_pressure":"1012.7","abs_daily_max":"34.9","mean_daily_max":"25.9","mean":"23.3","mean_daily_min":"21.4","absolute_daily_min":"9.2","total_rainfall":"19"},{"year":"2014","mean_pressure":"1013.1","abs_daily_max":"34.6","mean_daily_max":"26","mean":"23.5","mean_daily_min":"21.5","absolute_daily_min":"7.3","total_rainfall":"19.3"},{"year":"2015","mean_pressure":"1013.5","abs_daily_max":"36.3","mean_daily_max":"26.6","mean":"24.2","mean_daily_min":"22.4","absolute_daily_min":"10.3","total_rainfall":"20.1"},{"year":"2016","mean_pressure":"1012.8","abs_daily_max":"35.6","mean_daily_max":"26.1","mean":"23.6","mean_daily_min":"21.7","absolute_daily_min":"3.1","total_rainfall":"19.9"},{"year":"2017","mean_pressure":"1013.3","abs_daily_max":"36.6","mean_daily_max":"26.4","mean":"23.9","mean_daily_min":"22","absolute_daily_min":"9.8","total_rainfall":"19.6"},{"year":"2018","mean_pressure":"1012.6","abs_daily_max":"35.4","mean_daily_max":"26.6","mean":"23.9","mean_daily_min":"21.9","absolute_daily_min":"6.8","total_rainfall":"19.4"},{"year":"2019","mean_pressure":"1012.6","abs_daily_max":"35.1","mean_daily_max":"27.1","mean":"24.5","mean_daily_min":"22.6","absolute_daily_min":"11.4","total_rainfall":"20.4"},{"year":"2020","mean_pressure":"1013.5","abs_daily_max":"35.3","mean_daily_max":"27.2","mean":"24.4","mean_daily_min":"22.5","absolute_daily_min":"8.1","total_rainfall":"20.1"}]</script>
<script>
console.log(temp)

// window.stopit = d3.timer(function(){
//  d3.selectAll(".article-content-wrap:not(:first-child)").remove();
//  d3.selectAll(".likecoin-embed:nth-child(n+3)").remove();
//  d3.selectAll(".related-articles:nth-child(n+4)").remove();
// })


// var containerWidthChanged = false;
// var ow = innerWidth;

// window.addEventListener("resize", function(){
//  if (innerWidth != ow) {
//      containerWidthChanged = true;
//      ow = innerWidth;
//      redraw();
//    }
// });

d3.select('body').selectAppend('div.tooltip')

var sel = d3.select(".g-chart").html("");

var margin = {top: 20, right: 5, bottom: 20, left: 30}
var width = sel.node().getBoundingClientRect().width;
var height = 500;
var svg = sel.append("svg").attr("width", width).attr("height", height).append("g");

width -= (margin.left + margin.right)
height -= (margin.top + margin.bottom)
svg = svg.translate([margin.left, margin.top])

temp = temp.filter(d => !isNaN(+d.mean))

// d3.loadData("data.json", function (err, res){

    // var data = res[0];

    // var grouped = d3.nest().key(d => d.year).entries(data);

    var x = d3.scaleLinear().domain([1885,2020]).range([0,width]);
    var y = d3.scaleLinear().domain([21,24.5]).range([height,0]);

    var line = d3.line()
        // .curve(d3.curveBasis)
        .x((d,i) => x(+d.year))
        .y((d,i) => y(d.mean));

    var yaxis = d3.axisLeft(y).tickSize(width).tickValues([21,22,23,24]).tickFormat(d => +d + "°");
    svg.append("g.y.axis").translate([width,0]).call(yaxis)

    var p = svg.append("path")
        .datum(temp)
        .attr("d", line)

    var totalLength = p.node().getTotalLength();
    p.attr("stroke-dasharray", totalLength + " " + totalLength)
        .attr("stroke-dashoffset", totalLength)
        .transition() // Call Transition Method
        .duration(4000) // Set Duration timing (ms)
        .ease(d3.easeLinear) // Set Easing option
        .attr("stroke-dashoffset", 0); 

    var circle = svg.appendMany("circle", temp)
        .attr("r", 4)
        .style("fill", "magenta")
        .translate(d => [x(d.year), y(d.mean)])
        .style("opacity", 0)

    circle.transition().delay((d,i) => i*30).style("opacity", 1)

    circle.call(d3.attachTooltip)
        .on('mouseover', function(d){
              d3.select('.tooltip').html("<b>" + d.year + "</b><br>" + d.mean + "°") 
              d3.select(this).raise();
              d3.select("#g-2020").raise();
          })


    // grouped.forEach(function(group,i){
    //  group.allvals = [];

    //  group.values.forEach(function(month){
    //      month.values.forEach(function(d){

    //          if (!isNaN(+d.day) && !isNaN(+d.mean)) {

    //              var now = new Date(group.key, month.month-1, d.day);
    //              var start = new Date(group.key, 0, 0);
    //              var diff = now - start;
    //              var oneDay = 1000 * 60 * 60 * 24;
    //              var day = Math.floor(diff / oneDay);
    //              group.allvals.push({
    //                  day: day,
    //                  val: +d.mean
    //              })
    //          }
    //      })
    //  })
        
    //  var p = svg.append("path")
    //      .datum(group.allvals)
    //      .attr("id", "g-" + group.key)
    //      .attr("d", line)
    //      .style("opacity", 0)
    //      .call(d3.attachTooltip)
    //      .on('mouseover', function(d){
    //            d3.select('.tooltip').html(group.key) 
    //            d3.select(this).raise();
    //            d3.select("#g-2020").raise();
    //        })

    //  p.transition()
    //      .delay(i*20)
    //      .style("opacity", 1)
    //      .style("stroke-width", 2)

    //  if (group.key != "2020") {
    //      p.transition()
    //      .delay(i*20)
    //      .style("stroke-width", 1)
    //      .style("opacity", 0.05)
    //  }

    // })
    
    
    // console.log(grouped)



// })
</script>